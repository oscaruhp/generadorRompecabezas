<!DOCTYPE html>
<html>
  <head>
    <title>Generador Rompecabezas </title>
	
	<link rel="stylesheet" href="bootstrap.min.css" >
	<script src="jquery.min.js"></script>

	
	<script src="jquery.cropit.js"></script>
	<style>
.cropit-preview {
	  background-color: #f8f8f8;
	  background-size: cover;
	  border: 1px solid #ccc;
	  border-radius: 3px;
	  margin-top: 7px;
	  width: 802px;height: 602px;
}
.cropit-preview-image-container {  
	cursor: move;
}
.image-size-label { 
	margin-top: 10px; 
}
input, .export { 
	display: block; 
}
button { 
	margin-top: 10px; 
}
	</style>
	<style media="print">
	.ocultar{display:none;}
	.centrado{text-align: center;}
	</style>
	
  </head>
<body>
   <div class="container">
		<div class="row image-editor">
		<div class="col-md-4 ocultar">
		<br/><br/>
		<div class="alert alert-danger">
			<h4><strong>Paso 1.- Selecciona una imagen</strong></h4>
			<input type="file" class="cropit-image-input btn btn-info btn-lg btn-block">
			<input type="range" class="cropit-image-zoom-input btn btn-info btn-lg btn-block">
			<button class="rotate-ccw btn btn-info btn-lg btn-block">Rotar</button>
			
		</div>
		<div class="alert alert-info">
			<h4><strong>Paso 2.- Generar Rompecabezas</strong></h4>
			 <button class="export btn btn-info btn-lg btn-block">Generar Rompecabezas</button>
		</div>
		<div class="alert alert-success">
			  <h4><strong>Paso 3.- Imprime Rompecabezas</strong></h4>
			  <input onclick="window.print();" class="export btn btn-info btn-lg btn-block" value="Imprimir"/>
		</div>
		<div class="alert alert-warning">
			<button onclick="location.reload();" class="export btn btn-info btn-lg btn-block">Reiniciar</button>
		</div>
		
		
		</div>
		
		
		<div class="col-md-8">
		<br/>
		<div class="cropit-preview ocultar" ></div>
		<div class="centrado"><canvas id="canvas" ></canvas></div>
		</div>
		</div>
   </div>
   <script>
   $(function() {
	 $('.image-editor').cropit();
	 $('.rotate-ccw').click(function() { $('.image-editor').cropit('rotateCW');});
	 
	 $('.export').click(function() {
		$('.cropit-preview').hide();
		var imageData = $('.image-editor').cropit('export'); // Base64
		
		var canvas = document.getElementById("canvas");
		canvas.width  = 801;
		canvas.height = 602;
		
		var ctx = canvas.getContext("2d");
		var imagesLoaded = 0;
		
		var image = new Image();
		var image2 = new Image();
		image.src=imageData;
		image2.src = "PlantillaRomeCabezas1.png";
		
		image2.onload = function() {
			 ctx.drawImage(image, 0, 0);
			 ctx.drawImage(image2, 0, 0);
		};
			
		
	 });
   
   });
   </script>
</body>
</html>








